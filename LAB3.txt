
*** ZADANIE 1
**1.
CREATE TABLE pracownik(
 -> id_pracownika int AUTO_INCREMENT, 
 -> imie varchar(40), 
 -> nazwisko varchar(60), 
 -> data_urodzenia DATE, 
 -> PRIMARY KEY(id_pracownika)
 -> );

**2.
INSERT INTO pracownik(imie,nazwisko,data_urodzenia)VALUES('Jan', 'Kowalski', '1200-06-01');
INSERT INTO pracownik(imie,nazwisko,data_urodzenia)VALUES('Cyprian', 'Oscek', '2001-06-01');
INSERT INTO pracownik(imie,nazwisko,data_urodzenia)VALUES('Jezus','Chrystus','0000-01-01');

**3.
UPDATE pracownik SET data_urodzenia = '2005-06-01' WHERE id_pracownika = 1;

*** ZADANIE 2
**1.
CREATE TABLE zadanie(
 -> id_zadania INT AUTO_INCREMENT PRIMARY KEY, 
 -> nazwa_zadania varchar(150) NOT NULL, 
 -> priorytet ENUM('normalny','wysoki','niski'),
 -> opis TEXT,
 -> pracownik INT, 
 -> foreign key(pracownik)REFERENCES pracownik(id_pracownika) on delete set null);

**1.
ALTER TABLE zadanie MODIFY priorytet ENUM('normalny','wysoki','niski') DEFAULT('normalny');

**2.

INSERT INTO zadanie VALUES(1, 'ugotowac_obiad', 'wysoki', 'ugotuj cos dobrego', 2);
INSERT INTO zadanie VALUES(2, 'zbawienie', 'wysoki', '???', 3);
INSERT INTO zadanie VALUES(3, 'zakupy', 'normalny', 'lista zakupow z lodowki', 1);

*** ZADANIE 3
**1.

CREATE TABLE projekt(
 -> id_projektu INT AUTO_INCREMENT PRIMARY KEY, 
 -> nazwa_projektu varchar(150), 
 -> data_rozpoczecia DATE NOT NULL, 
 -> data_zakonczenia DATE);

**2.
ALTER TABLE projekt add column menadzer_projektu int;
ALTER TABLE projekt add foreign key(menadzer_projektu) REFERENCES pracownik(id_pracownika);

**3.
INSERT INTO projekt VALUES(1,'pokonac diabla','0030-01-01','0034-04-05',3);
INSERT INTO projekt VALUES(2,'dorastanie','2001-06-01',NULL,2);

**4.
ALTER TABLE zadanie add column projekt int 
ALTER TABLE zadanie add FOREIGN KEY(projekt) REFERENCES projekt(id_projektu) on delete cascade;

**5.
UPDATE zadanie SET projekt = 2 where id_zadania = 1;
UPDATE zadanie SET projekt = 1 where id_zadania = 2;
UPDATE zadanie SET projekt = 2 where id_zadania = 3;

*** ZADANIE 4
**1.
CREATE TABLE sprint(
 -> id_sprintu int auto_increment PRIMARY KEY, 
 -> numer_sprintu int unsigned, 
 -> data_rozpoczecia DATE, 
 -> data_zakonczenia DATE);

**2.
ALTER TABLE zadanie add column sprint INT'
ALTER TABLE zadanie add FOREIGN KEY(sprint) REFERENCES sprint(id_sprintu) on delete set null;

**3.
INSERT INTO sprint VALUES(1,1,'0000-08-01',NULL);
UPDATE zadanie set sprint = 1 where id_zadania = 1 or id_zadania = 2;

*** Zadanie 5
**1.
CREATE TABLE status(
 -> id_statusu INT PRIMARY KEY AUTO_INCREMENT, 
 -> nazwa_statusu varchar(20));

**2.
insert into status VALUES(1,'wolny');
insert into status(nazwa_statusu)VALUES('kawaler');
insert into status(nazwa_statusu)VALUES('zajety');


**3.
CREATE TABLE zadanie_has_status(
 -> id_zdarzenia INT PRIMARY KEY AUTO_INCREMENT, 
 -> id_zadania INT, 
 -> id_statusu INT, 
 -> data_zdarzenia DATETIME default CURRENT_TIMESTAMP);

ALTER TABLE zadanie_has_status add foreign key(id_zadania)REFERENCES zadanie(id_zadania);
ALTER TABLE zadanie_has_status add foreign key(id_statusu)REFERENCES status(id_statusu);

**4.
insert into zadanie_has_status VALUES(1,1,3,default);
insert into zadanie_has_status VALUES(2,3,3,default);
insert into zadanie_has_status VALUES(3,1,1,default);

**5.
DELETE FROM projekt WHERE id_projektu = 1;
